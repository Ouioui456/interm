async function updateDatabase(nouveauTexte) {
    const token = "TON_TOKEN";
    const repo = "Pseudo/NomDuRepo";
    const path = "db.json";
    const url = `https://api.github.com/repos/${repo}/contents/${path}`;

    // ÉTAPE 1 : Récupérer le SHA du fichier existant
    const getResponse = await fetch(url, {
        headers: { 'Authorization': `token ${token}` }
    });
    const fileData = await getResponse.json();
    const currentSHA = fileData.sha; // Voilà notre précieux jeton de version

    // ÉTAPE 2 : Préparer la nouvelle donnée
    const updatedContent = JSON.stringify({ message: nouveauTexte, date: new Date() });
    const encodedContent = btoa(unescape(encodeURIComponent(updatedContent)));

    // ÉTAPE 3 : Envoyer la mise à jour
    const putResponse = await fetch(url, {
        method: 'PUT',
        headers: {
            'Authorization': `token ${token}`,
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            message: "Mise à jour db",
            content: encodedContent,
            sha: currentSHA // On donne le SHA pour prouver qu'on est à jour
        })
    });

    if (putResponse.ok) console.log("Donnée sauvegardée !");
}
